import React, { useState, useEffect } from 'react'
import {Hosts} from '../../../pages/List'
import api from '../../../services/api'

interface Props{
    idHost: number
}

interface HostInfors extends Hosts{
    
  vuln: number[],
  vuln_fixed: number[]
}

const ModalInforsHost: React.FC<Props> = ({idHost}) => {
    
    const [hostInfors, setHostInfors] = useState<HostInfors>()

    useEffect(() => {
        if(idHost !== 0){
            api.get(`/api/assets/${idHost}/`).then(response => {
                setHostInfors(response.data)
                console.log(response.data)
            })
        }
    }, [idHost])


    return(
        <div className="modal fade" id="ModalInforsHost" tabIndex = {-1} aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div className="modal-dialog modal-lg">
                <div className="modal-content">
                    <div className="modal-header">
    <h5 className="modal-title" id="exampleModalLabel">{hostInfors?.hostname}</h5>
                        <button type="button" className="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                        </button>
                    </div>

                    <div className="modal-body">
                        ...
                    </div>

                    <div className="modal-footer">
                        <button type="button" className="btn btn-secondary" data-dismiss="modal">Fechar</button>
                        <button type="button" className="btn btn-primary">Salvar Alterações</button>
                    </div>
                </div>
            </div>
        </div>
    )
}

export default ModalInforsHost;