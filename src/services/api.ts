import axios from 'axios';

const api = axios.create({baseURL: 'http://167.114.135.109'})


api.interceptors.request.use(async (config) => {
    
    const response = await api.post('/api-token-auth', {
        username: 'yan.rabelo1014', 
        password: 'C)]L9.$63P[kY##mS-vX'
    })

    if(response.data.token){
        const {token} = response.data
        config.headers.authorization = token
    }

    return config
    
})
export default api;